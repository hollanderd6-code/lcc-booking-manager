<!DOCTYPE html>
<html lang="fr" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BookingManag ‚Äì Aide</title>
  
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  
  <!-- CSS plateforme -->
  <link rel="stylesheet" href="/css/style.css">

  <style>
    html, body {
      margin: 0 !important;
      padding: 0 !important;
    }

    .app-container {
      margin-top: 0 !important;
    }

    .main-content {
      margin-top: 0 !important;
      padding-top: 24px !important;
    }

    .page-content {
      margin-top: 0 !important;
      max-width: 960px;
    }

    html {
      scroll-behavior: smooth;
    }

    /* ====== SIDEBAR ULTRA MODERNE (comme app.html) ====== */

    .sidebar {
      background: radial-gradient(circle at top, #020617, #020617);
      border-right: 1px solid rgba(148, 163, 184, 0.25);
      box-shadow: 18px 0 60px rgba(15, 23, 42, 0.7);
      padding: 18px 16px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .sidebar-header {
      padding: 4px 4px 10px;
    }

    .sidebar-logo {
      display: flex;
      align-items: center;
      gap: 10px;
      text-decoration: none;
      padding: 10px 12px;
      border-radius: 999px;
      background: linear-gradient(135deg, #0f172a, #020617);
      border: 1px solid rgba(148, 163, 184, 0.45);
      box-shadow: 0 14px 40px rgba(15, 23, 42, 0.8);
    }

    .sidebar-logo i {
      width: 34px;
      height: 34px;
      border-radius: 999px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: radial-gradient(circle at 30% 0%, #22c55e, #16a34a);
      color: #ecfdf5;
      font-size: 16px;
    }

    .sidebar-logo-title {
      font-weight: 700;
      font-size: 15px;
      letter-spacing: 0.02em;
      color: #e5e7eb;
    }

    .sidebar-logo-subtitle {
      font-size: 12px;
      color: #9ca3af;
    }

    .nav-section {
      margin-top: 8px;
    }

    .nav-section-title {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: #6b7280;
      margin: 10px 10px 6px;
    }

    .nav-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 8px 12px;
      border-radius: 999px;
      color: #9ca3af;
      font-size: 13px;
      text-decoration: none;
      position: relative;
      transition: background 0.16s ease, color 0.16s ease, transform 0.16s ease, box-shadow 0.16s ease;
    }

    .nav-item i {
      font-size: 14px;
      width: 18px;
      text-align: center;
    }

    .nav-item:hover {
      background: rgba(15, 23, 42, 0.9);
      color: #e5e7eb;
      transform: translateX(2px);
    }

    .nav-item.active {
      background: linear-gradient(135deg, #22c55e, #16a34a);
      color: #ecfdf5;
      box-shadow: 0 16px 40px rgba(34, 197, 94, 0.45);
    }

    .nav-item.active i {
      color: #ecfdf5;
    }

    .nav-badge {
      margin-left: auto;
      font-size: 11px;
      padding: 2px 8px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.85);
      color: #e5e7eb;
      border: 1px solid rgba(148, 163, 184, 0.6);
    }

    .sidebar-footer {
      margin-top: auto;
      padding-top: 8px;
      border-top: 1px solid rgba(31, 41, 55, 0.9);
    }

    .user-profile {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 8px;
      border-radius: 16px;
      background: radial-gradient(circle at top left, rgba(15, 23, 42, 0.9), rgba(15, 23, 42, 0.98));
      border: 1px solid rgba(148, 163, 184, 0.35);
    }

    .user-avatar {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      background: linear-gradient(135deg, #22c55e, #16a34a);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 14px;
      color: #ecfdf5;
    }

    .user-name {
      font-size: 13px;
      font-weight: 600;
      color: #e5e7eb;
    }

    .user-email {
      font-size: 11px;
      color: #9ca3af;
    }

    #logoutBtn {
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.45);
      background: rgba(15, 23, 42, 0.9);
    }

    #logoutBtn:hover {
      background: rgba(15, 23, 42, 0.98);
    }

    /* ====== HEADER MODERNE ====== */

    .main-header {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      gap: 16px;
      padding: 18px 20px;
      margin-bottom: 20px;
      border-radius: 20px;
      background: linear-gradient(
        135deg,
        rgba(15, 23, 42, 0.98),
        rgba(15, 23, 42, 0.92)
      );
      border: 1px solid rgba(148, 163, 184, 0.45);
      box-shadow: 0 24px 60px rgba(15, 23, 42, 0.7);
    }

    [data-theme="light"] .main-header {
      background: linear-gradient(135deg, #f9fafb, #eff6ff);
      border-color: rgba(148, 163, 184, 0.4);
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.06);
    }

    .header-left {
      max-width: 70%;
    }

    .page-kicker {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: #9ca3af;
      margin-bottom: 4px;
      font-weight: 600;
    }

    .page-title {
      margin: 0;
      font-size: 24px;
      font-weight: 700;
      letter-spacing: 0.01em;
    }

    .page-subtitle {
      margin-top: 6px;
      font-size: 13px;
      color: #9ca3af;
    }

    [data-theme="light"] .page-subtitle {
      color: #6b7280;
    }

    @media (max-width: 768px) {
      .main-header {
        flex-direction: column;
        align-items: flex-start;
      }
      .header-left {
        max-width: 100%;
      }
    }

    /* ====== FAQ ====== */

    .faq-item {
      border-radius: 12px;
      border: 1px solid var(--border-color);
      margin-bottom: 10px;
      overflow: hidden;
      background: var(--bg-secondary);
    }

    .faq-question {
      width: 100%;
      text-align: left;
      padding: 10px 12px;
      font-weight: 600;
      background: transparent;
      border: none;
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
      font-size: 14px;
    }

    .faq-answer {
      max-height: 0;
      overflow: hidden;
      padding: 0 12px;
      transition: max-height 0.2s ease, padding 0.2s ease;
      font-size: 14px;
    }

    .faq-item.open .faq-answer {
      max-height: 500px;
      padding: 8px 12px 12px;
    }

    .faq-toggle-icon {
      font-size: 12px;
      color: var(--text-secondary);
      margin-left: 8px;
    }

    #faqSearch {
      width: 100%;
      padding: 8px 10px;
      border-radius: 8px;
      border: 1px solid var(--border-color);
      font-size: 14px;
    }

    .card.mb-lg {
      margin-bottom: 20px;
    }
  </style>
</head>
<body data-page="help">
  <!-- MOBILE HEADER -->
  <div class="mobile-header">
    <a href="/app.html" class="mobile-logo">
      <i class="fas fa-calendar-check"></i>
      <span class="mobile-logo-text">BookingManag</span>
    </a>
    <button class="mobile-menu-btn" id="mobileMenuBtn">
      <i class="fas fa-bars"></i>
    </button>
  </div>
  <div class="sidebar-overlay" id="sidebarOverlay"></div>

  <div class="app-container">
    
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <a href="/" class="sidebar-logo">
          <i class="fas fa-calendar-check"></i>
          <div class="sidebar-logo-text">
            <span class="sidebar-logo-title">BookingManag</span>
            <span class="sidebar-logo-subtitle">Property Manager</span>
          </div>
        </a>
      </div>
      
      <nav class="sidebar-nav">
        <!-- Principal -->
        <div class="nav-section">
          <div class="nav-section-title">Principal</div>

          <a href="/app.html" class="nav-item" data-page="app">
            <i class="fas fa-th-large"></i>
            <span>Dashboard</span>
          </a>

          <a href="/app.html#calendarSection" class="nav-item">
            <i class="fas fa-calendar"></i>
            <span>Calendrier</span>
            <span class="nav-badge" id="navTotalReservations">0</span>
          </a>

          <a href="/messages.html" class="nav-item" data-page="messages">
            <i class="fas fa-comment-dots"></i>
            <span>Messages</span>
          </a>
        </div>
        
        <!-- Gestion -->
        <div class="nav-section">
          <div class="nav-section-title">Gestion</div>

          <a href="/settings.html" class="nav-item">
            <i class="fas fa-home"></i>
            <span>Mes logements</span>
          </a>
          <a href="/welcome.html" class="nav-item">
            <i class="fas fa-book-open"></i>
            <span>Livret d'accueil</span>
          </a>
          <a href="/statistics.html" class="nav-item">
            <i class="fas fa-chart-bar"></i>
            <span>Statistiques</span>
          </a>
          <a href="/notifications.html" class="nav-item">
            <i class="fas fa-bell"></i>
            <span>Notifications</span>
          </a>
        </div>

        <!-- Param√®tres -->
        <div class="nav-section">
          <div class="nav-section-title">Param√®tres</div>
          <a href="/settings-account.html" class="nav-item" data-page="settings-account">
            <i class="fas fa-cog"></i>
            <span>Param√®tres</span>
          </a>
          <a href="/help.html" class="nav-item active">
            <i class="fas fa-question-circle"></i>
            <span>Aide</span>
          </a>
        </div>
      </nav>
      
      <div class="sidebar-footer">
        <div class="user-profile">
          <div class="user-avatar" id="sidebarUserAvatar">C</div>
          <div class="user-info">
            <div class="user-name" id="sidebarUserName">Utilisateur</div>
            <div class="user-email" id="sidebarUserCompany">Mon espace</div>
          </div>

          <button class="btn btn-ghost btn-xs" id="logoutBtn" style="padding: 6px 10px; margin-left: auto;"><i class="fas fa-sign-out-alt"></i></button>
        </div>
      </div>
    </aside>
    
    <!-- Main Content -->
    <main class="main-content">
      
      <!-- Header -->
      <header class="main-header">
        <div class="header-left">
          <div class="page-kicker">Support</div>
          <h1 class="page-title">Centre d‚Äôaide</h1>
          <p class="page-subtitle">
            Retrouvez les r√©ponses aux questions fr√©quentes et comment contacter le support.
          </p>
        </div>
      </header>
      
      <!-- Page Content -->
      <div class="page-content">
        
        <!-- Bloc FAQ -->
        <section class="card mb-lg">
          <div class="card-header">
            <div class="card-title">
              <i class="fas fa-circle-question"></i>
              Questions fr√©quentes
            </div>
          </div>
          <div class="card-body">
            <div class="form-row" style="margin-bottom: 16px;">
              <input
                type="text"
                id="faqSearch"
                placeholder="Rechercher une question..."
              >
            </div>

            <div class="faq-item">
              <button class="faq-question">
                <span>üìÖ Comment synchroniser mes calendriers iCal ?</span>
                <span class="faq-toggle-icon"><i class="fas fa-chevron-down"></i></span>
              </button>
              <div class="faq-answer">
                <p>
                  Allez dans <strong>Mes logements &gt; Modifier</strong>, puis ajoutez ou mettez √† jour les URL iCal
                  fournies par les plateformes (Airbnb, Booking, etc.). Ensuite, cliquez sur le bouton de
                  <strong>synchronisation</strong> dans le Dashboard.
                </p>
              </div>
            </div>

            <div class="faq-item">
              <button class="faq-question">
                <span>‚ûï Comment ajouter une r√©servation manuelle ?</span>
                <span class="faq-toggle-icon"><i class="fas fa-chevron-down"></i></span>
              </button>
              <div class="faq-answer">
                <p>
                  Sur le Dashboard, cliquez sur <strong>Nouvelle r√©servation</strong>, remplissez les informations
                  du s√©jour (logement, dates, nom du client) puis enregistrez. La r√©servation appara√Ætra dans le calendrier.
                </p>
              </div>
            </div>

            <div class="faq-item">
              <button class="faq-question">
                <span>üîî Comment fonctionnent les notifications ?</span>
                <span class="faq-toggle-icon"><i class="fas fa-chevron-down"></i></span>
              </button>
              <div class="faq-answer">
                <p>
                  Le centre de notifications regroupe les nouveaux s√©jours d√©tect√©s. Vous pouvez acc√©der au d√©tail
                  depuis le panneau Notifications et ajuster vos pr√©f√©rences dans la page <strong>Param√®tres</strong>.
                </p>
              </div>
            </div>

            <div class="faq-item">
              <button class="faq-question">
                <span>üë§ Comment modifier mes informations de compte ?</span>
                <span class="faq-toggle-icon"><i class="fas fa-chevron-down"></i></span>
              </button>
              <div class="faq-answer">
                <p>
                  Rendez-vous dans la page <strong>Param√®tres</strong>, puis mettez √† jour votre nom, email ou
                  nom de conciergerie. Les informations seront prises en compte sur l‚Äôensemble de la plateforme.
                </p>
              </div>
            </div>
          </div>
        </section>

        <!-- Bloc Contact -->
        <section class="card mb-lg">
          <div class="card-header">
            <div class="card-title">
              <i class="fas fa-envelope"></i>
              Contacter le support
            </div>
          </div>
          <div class="card-body">
            <p>
              Vous ne trouvez pas la r√©ponse √† votre question ou vous avez d√©tect√© un bug ?
            </p>
            <p>
              Vous pouvez envoyer un email √† :
              <a href="/cdn-cgi/l/email-protection#8bf8fefbfbe4f9ffcbe7e8e8a6e9e4e4e0e2e5eca5edf9"><span class="__cf_email__" data-cfemail="93e0e6e3e3fce1e7d3fff0f0bef1fcfcf8fafdf4bdf5e1">[email&#160;protected]</span></a>
            </p>
            <p style="margin-top: 12px;">
              Pensez √† pr√©ciser :
            </p>
            <ul>
              <li>l‚Äôadresse email de votre compte,</li>
              <li>le logement ou la r√©servation concern√©e,</li>
              <li>une capture d‚Äô√©cran si possible.</li>
            </ul>
          </div>
        </section>

        <!-- Bloc Ressources -->
        <section class="card">
          <div class="card-header">
            <div class="card-title">
              <i class="fas fa-book-open"></i>
              Ressources & guide
            </div>
          </div>
          <div class="card-body">
            <p>
              Prochainement : un guide utilisateur d√©taill√© et des vid√©os tutoriels pour tirer le maximum
              de BookingManag.
            </p>
          </div>
        </section>

      </div>
    </main>
  </div>

  <!-- Script auth + user + logout -->
  <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
    (function () {
      const token = localStorage.getItem('lcc_token');
      if (!token) {
        window.location.href = '/login.html';
        return;
      }

      const rawUser = localStorage.getItem('lcc_user');
      let user = null;

      try {
        user = rawUser ? JSON.parse(rawUser) : null;
      } catch (e) {
        console.error('Impossible de lire lcc_user', e);
      }

      if (user) {
        const nameEl = document.getElementById('sidebarUserName');
        const companyEl = document.getElementById('sidebarUserCompany');
        const avatarEl = document.getElementById('sidebarUserAvatar');

        if (nameEl) {
          nameEl.textContent = user.firstName
            ? user.firstName + (user.lastName ? ' ' + user.lastName : '')
            : (user.email || 'Mon compte');
        }

        if (companyEl) {
          companyEl.textContent = user.company || 'Mon espace';
        }

        if (avatarEl) {
          const initial = (user.firstName || user.email || '?').trim()[0] || 'U';
          avatarEl.textContent = initial.toUpperCase();
        }
      }

      const logoutBtn = document.getElementById('logoutBtn');
      if (logoutBtn) {
        logoutBtn.addEventListener('click', function () {
          localStorage.removeItem('lcc_token');
          localStorage.removeItem('lcc_user');
          window.location.href = '/login.html';
        });
      }
    })();
  </script>

  <!-- Script FAQ (d√©pliable + recherche) -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const faqItems = Array.from(document.querySelectorAll('.faq-item'));
      const searchInput = document.getElementById('faqSearch');

      // Toggle FAQ
      faqItems.forEach(item => {
        const btn = item.querySelector('.faq-question');
        if (!btn) return;
        btn.addEventListener('click', function () {
          const isOpen = item.classList.contains('open');
          faqItems.forEach(i => i.classList.remove('open'));
          if (!isOpen) {
            item.classList.add('open');
          }
        });
      });

      // Recherche
      if (searchInput) {
        searchInput.addEventListener('input', function () {
          const q = searchInput.value.
