<!DOCTYPE html>
<html lang="fr" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bookingmanage – Calendrier</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  
  <!-- CSS plateforme -->
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="calendar-modern.css">
</head>
<body data-page="calendar">
  <!-- MOBILE HEADER -->
  <div class="mobile-header">
    <a href="/app.html" class="mobile-logo">
      <i class="fas fa-calendar-check"></i>
      <span class="mobile-logo-text">Bookingmanage</span>
    </a>
    <button class="mobile-menu-btn" id="mobileMenuBtn">
      <i class="fas fa-bars"></i>
    </button>
  </div>
  <div class="sidebar-overlay" id="sidebarOverlay"></div>

  <div class="app-container">
    
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <a href="/" class="sidebar-logo">
          <i class="fas fa-calendar-check"></i>
          <div class="sidebar-logo-text">
            <span class="sidebar-logo-title">Bookingmanage</span>
            <span class="sidebar-logo-subtitle">Property Manager</span>
          </div>
        </a>
      </div>
      
      <nav class="sidebar-nav">
        <!-- PRINCIPAL -->
        <div class="nav-section">
          <div class="nav-section-title">Principal</div>

          <a href="/app.html" class="nav-item" data-page="app">
            <i class="fas fa-th-large"></i>
            <span>Dashboard</span>
          </a>

          <a href="/calendar-modern.html" class="nav-item active" data-page="calendar">
            <i class="fas fa-calendar"></i>
            <span>Calendrier</span>
            <span class="nav-badge" id="navTotalReservations">0</span>
          </a>

          <a href="/messages.html" class="nav-item" data-page="messages">
            <i class="fas fa-comment-dots"></i>
            <span>Messages</span>
          </a>
        </div>

        <!-- GESTION -->
        <div class="nav-section">
          <div class="nav-section-title">Gestion</div>

          <a href="/settings.html" class="nav-item" data-page="settings">
            <i class="fas fa-home"></i>
            <span>Mes logements</span>
          </a>

          <a href="/welcome.html" class="nav-item" data-page="welcome">
            <i class="fas fa-book-open"></i>
            <span>Livret d'accueil</span>
          </a>

          <a href="/cleaning.html" class="nav-item" data-page="cleaning">
            <i class="fas fa-broom"></i>
            <span>Gestion du ménage</span>
            <span class="nav-badge">Nouveau</span>
          </a>

          <a href="/statistics.html" class="nav-item" data-page="statistics">
            <i class="fas fa-chart-bar"></i>
            <span>Statistiques</span>
          </a>

          <a href="/deposits.html" class="nav-item" data-page="deposits">
            <i class="fas fa-shield-alt"></i>
            <span>Cautions</span>
          </a>

          <a href="/notifications.html" class="nav-item" data-page="notifications">
            <i class="fas fa-bell"></i>
            <span>Notifications</span>
          </a>
        </div>

        <!-- PARAMÈTRES -->
        <div class="nav-section">
          <div class="nav-section-title">Paramètres</div>

          <a href="/settings-account.html" class="nav-item" data-page="settings-account">
            <i class="fas fa-cog"></i>
            <span>Paramètres</span>
          </a>

          <a href="/help.html" class="nav-item" data-page="help">
            <i class="fas fa-question-circle"></i>
            <span>Aide</span>
          </a>
        </div>
      </nav>
      
      <div class="sidebar-footer">
        <div class="user-profile">
          <div class="user-avatar" id="sidebarUserAvatar">C</div>
          <div class="user-info">
            <div class="user-name" id="sidebarUserName">Utilisateur</div>
            <div class="user-email" id="sidebarUserCompany">Mon espace</div>
          </div>
          <button class="btn btn-ghost btn-xs" id="logoutBtn"><i class="fas fa-sign-out-alt"></i></button>
        </div>
      </div>
    </aside>
    
    <!-- Main Content -->
    <main class="main-content calendar-main">
      
      <!-- Calendar Header -->
      <header class="calendar-header">
        <div class="calendar-header-top">
          <button class="menu-toggle" id="menuToggle">
            <i class="fas fa-bars"></i>
          </button>
          <h1 class="calendar-title">Calendrier</h1>
          <button class="calendar-options" id="calendarOptions">
            <i class="fas fa-ellipsis-vertical"></i>
          </button>
        </div>
        
        <!-- View Selector -->
        <div class="view-selector">
          <button class="search-button" id="searchBtn">
            <i class="fas fa-search"></i>
          </button>
          <div class="view-tabs">
            <button class="view-tab" data-view="day">
              <i class="fas fa-calendar-day"></i>
              <span>Jour</span>
            </button>
            <button class="view-tab" data-view="week">
              <i class="fas fa-calendar-week"></i>
              <span>Sem</span>
            </button>
            <button class="view-tab active" data-view="month">
              <i class="fas fa-calendar-alt"></i>
              <span>Mois</span>
            </button>
            <button class="view-tab" data-view="year">
              <i class="fas fa-calendar"></i>
              <span>Année</span>
            </button>
          </div>
        </div>
        
        <!-- Period Navigation -->
        <div class="period-navigation">
          <button class="period-nav-btn" id="prevPeriod">
            <i class="fas fa-chevron-left"></i>
          </button>
          <div class="period-display">
            <span class="period-year">2025</span>
          </div>
          <button class="period-nav-btn" id="nextPeriod">
            <i class="fas fa-chevron-right"></i>
          </button>
        </div>
        
        <!-- Month Selector (for year view) -->
        <div class="month-selector" id="monthSelector">
          <button class="month-btn" data-month="0">jan</button>
          <button class="month-btn" data-month="1">fév</button>
          <button class="month-btn" data-month="2">mar</button>
          <button class="month-btn" data-month="3">avr</button>
          <button class="month-btn" data-month="4">mai</button>
          <button class="month-btn" data-month="5">jui</button>
          <button class="month-btn" data-month="6">jul</button>
          <button class="month-btn" data-month="7">aoû</button>
          <button class="month-btn" data-month="8">sep</button>
          <button class="month-btn" data-month="9">oct</button>
          <button class="month-btn active" data-month="10">nov</button>
          <button class="month-btn" data-month="11">déc</button>
        </div>
        
        <!-- Current Month Indicator -->
        <div class="month-indicator">
          <span id="currentMonthName">novembre</span>
        </div>
      </header>
      
      <!-- Calendar Grid Container -->
      <div class="calendar-container">
        <!-- Property List (Vertical) -->
        <div class="property-list-column">
          <div class="property-list-header">
            <span>Logements</span>
          </div>
          <div class="property-list" id="propertyList">
            <!-- Les logements seront ajoutés dynamiquement ici -->
          </div>
        </div>
        
        <!-- Calendar Grid -->
        <div class="calendar-grid-wrapper">
          <!-- Days Header -->
          <div class="days-header" id="daysHeader">
            <!-- Les jours seront ajoutés dynamiquement ici -->
          </div>
          
          <!-- Calendar Grid -->
          <div class="calendar-grid" id="calendarGrid">
            <!-- Les cellules seront ajoutées dynamiquement ici -->
          </div>
        </div>
      </div>
      
      <!-- Booking Modal -->
      <div class="booking-modal" id="bookingModal">
        <div class="modal-overlay" id="modalOverlay"></div>
        <div class="modal-content">
          <div class="modal-header">
            <h2>Nouvelle Réservation</h2>
            <button class="modal-close" id="closeModal">
              <i class="fas fa-times"></i>
            </button>
          </div>
          <form id="bookingForm" class="booking-form">
            <div class="form-group">
              <label for="bookingProperty">Logement</label>
              <select id="bookingProperty" required>
                <option value="">Sélectionner un logement</option>
              </select>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="checkIn">Arrivée</label>
                <input type="date" id="checkIn" required>
              </div>
              <div class="form-group">
                <label for="checkOut">Départ</label>
                <input type="date" id="checkOut" required>
              </div>
            </div>
            
            <div class="form-group">
              <label for="guestName">Nom du client</label>
              <input type="text" id="guestName" placeholder="Ex: Jean Dupont" required>
            </div>

            <div class="form-group">
              <label for="guestPhone">Téléphone</label>
              <input type="tel" id="guestPhone" placeholder="Ex: +33 6 12 34 56 78">
            </div>

            <div class="form-group">
              <label for="guestEmail">Email</label>
              <input type="email" id="guestEmail" placeholder="Ex: client@email.com">
            </div>
            
            <div class="form-group">
              <label for="platform">Plateforme</label>
              <select id="platform">
                <option value="direct">Direct</option>
                <option value="booking">Booking.com</option>
                <option value="airbnb">Airbnb</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="price">Prix (€)</label>
              <input type="number" id="price" min="0" step="0.01" placeholder="75">
            </div>

            <div class="form-group">
              <label for="notes">Notes</label>
              <textarea id="notes" rows="3" placeholder="Notes supplémentaires..."></textarea>
            </div>
            
            <div class="modal-actions">
              <button type="button" class="btn btn-ghost" id="cancelBooking">Annuler</button>
              <button type="submit" class="btn btn-primary">Enregistrer</button>
            </div>
          </form>
        </div>
      </div>
      
      <!-- Reservation Details Modal -->
      <div class="booking-modal" id="reservationDetailsModal">
        <div class="modal-overlay" id="detailsModalOverlay"></div>
        <div class="modal-content">
          <div class="modal-header">
            <h2 id="detailsModalTitle">Détails de la réservation</h2>
            <button class="modal-close" id="closeDetailsModal">
              <i class="fas fa-times"></i>
            </button>
          </div>
          <div id="reservationDetailsContent" class="reservation-details">
            <!-- Le contenu sera inséré dynamiquement -->
          </div>
          <div class="modal-actions" id="detailsModalActions">
            <button type="button" class="btn btn-danger" id="deleteBookingBtn" style="margin-right: auto;">
              <i class="fas fa-trash"></i> Supprimer
            </button>
            <button type="button" class="btn btn-ghost" id="closeDetailsBtn">Fermer</button>
            <button type="button" class="btn btn-primary" id="editBookingBtn">
              <i class="fas fa-edit"></i> Modifier
            </button>
          </div>
        </div>
      </div>

      <!-- Edit Booking Modal -->
      <div class="booking-modal" id="editBookingModal">
        <div class="modal-overlay" id="editModalOverlay"></div>
        <div class="modal-content">
          <div class="modal-header">
            <h2>Modifier la réservation</h2>
            <button class="modal-close" id="closeEditModal">
              <i class="fas fa-times"></i>
            </button>
          </div>
          <form id="editBookingForm" class="booking-form">
            <input type="hidden" id="editBookingId">
            <input type="hidden" id="editBookingSource">
            
            <div class="form-group">
              <label for="editBookingProperty">Logement</label>
              <select id="editBookingProperty" required>
                <option value="">Sélectionner un logement</option>
              </select>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="editCheckIn">Arrivée</label>
                <input type="date" id="editCheckIn" required>
              </div>
              <div class="form-group">
                <label for="editCheckOut">Départ</label>
                <input type="date" id="editCheckOut" required>
              </div>
            </div>
            
            <div class="form-group">
              <label for="editGuestName">Nom du client</label>
              <input type="text" id="editGuestName" placeholder="Ex: Jean Dupont" required>
            </div>

            <div class="form-group">
              <label for="editGuestPhone">Téléphone</label>
              <input type="tel" id="editGuestPhone" placeholder="Ex: +33 6 12 34 56 78">
            </div>

            <div class="form-group">
              <label for="editGuestEmail">Email</label>
              <input type="email" id="editGuestEmail" placeholder="Ex: client@email.com">
            </div>
            
            <div class="form-group">
              <label for="editPlatform">Plateforme</label>
              <select id="editPlatform">
                <option value="direct">Direct</option>
                <option value="booking">Booking.com</option>
                <option value="airbnb">Airbnb</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="editPrice">Prix (€)</label>
              <input type="number" id="editPrice" min="0" step="0.01" placeholder="75">
            </div>

            <div class="form-group">
              <label for="editNotes">Notes</label>
              <textarea id="editNotes" rows="3" placeholder="Notes supplémentaires..."></textarea>
            </div>
            
            <div class="modal-actions">
              <button type="button" class="btn btn-ghost" id="cancelEditBooking">Annuler</button>
              <button type="submit" class="btn btn-primary">Enregistrer</button>
            </div>
          </form>
        </div>
      </div>
      
      <!-- Floating Action Button -->
      <button class="fab" id="addBookingBtn" title="Nouvelle réservation">
        <i class="fas fa-plus"></i>
      </button>
      
    </main>
  </div>

  <!-- Scripts -->
  <script src="/js/calendar-modern.js"></script>
</body>
</html>
